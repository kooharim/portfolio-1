<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3d-calrousel</title>
    
    <link rel="stylesheet" href="../css/3d-image-carousel.css" />
  </head>
  <body>
    <div class="gallery">
      <div class="gallery-container">
        <img
          class="gallery-item gallery-item-1"
          src="../img/carousel/있지.jpg"
          data-index="1"
        />
        <img
          class="gallery-item gallery-item-2"
          src="../img/carousel/아이유&박재범.jpg"
          data-index="2"
        />
        <img
          class="gallery-item gallery-item-3"
          src="../img/carousel/나연.jpg"
          data-index="3"
        />
        <img
          class="gallery-item gallery-item-4"
          src="../img/carousel/키스오브 라이프 앨범.jpg"
          data-index="4"
        />
        <img
          class="gallery-item gallery-item-5"
          src="../img/carousel/샤이니.jpg"
          data-index="5"
        />
      </div>

      <div class="gallery-controls"></div>
    </div>
    <body>
        <script>
            const galleryContainer = document.querySelector('.gallery-container');
            const galleryControlsContainer=document.querySelector('.gallery-controls');
            const galleryControls=['previous','next'];
            const galleryItems=document.querySelectorAll('gallery-item');

            class Carousel{
                constructor(container,item,controis){
                    this.CarouselContainer = container;
                    this.CarouselControls = controls;
                    this.carouselArray= [...items];
                }
                updateGallery(){
                    this.carouserlArray.array.forEach(el => {
                        el.classList.remove('gallery-item-1');
                        el.classList.remove('gallery-item-2');
                        el.classList.remove('gallery-item-3');
                        el.classList.remove('gallery-item-4');
                        el.classList.remove('gallery-item-5');
                 });

                 this.carouserlArray.slice(0, 5).forEach((el , i) => {
                    el.classList.add('gallery-item-${i+1}');
                 });
                }
                setCurrentState(direction){
                    if (direction.className =='gallery-controls-previous'){
                        this.carouselArray.unshift(this.carouselArray.pop());
                    }else{
                        this.carouselArray.push(this.carouselArray.shift());
                    }
                    this.updateGallery();
                }
                setControls(){
                    this.CarouselControls.forEach(control =>{
                        galleryControlsContainer.appendChild(document.creatElement('button')).className ='gallery-contols-${control}';
                        document.querySelector('.gallery-controls-${control}').innerText=control;
                    });
                }
                useControls(){
                    const triggers = [...galleryControlsContainer.childNodes];
                    triggers.forEach(control => {
                        control.addEventListener('click', e => {
                           e.preventDefalt();
                            this.setConurrentState(control);
                        });
                        
                    });
                }
            }
            const exampleCarousel = New Carousel(galleryContainer, galleryItems, galleryControls);
            exampleCarousel.setControls();
            exampleCarousel.useControls();
        </script>
        
  </body>
</html>
