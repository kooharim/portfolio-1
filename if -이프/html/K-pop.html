<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>k-pop</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../css/k-pop.css" />
  </head>
  <body>
    <head>
      <div class="gallery">
        <div class="gallery-container">
          <img
            class="gallery-item gallery-item-1"
            src="../img/carousel/있지.jpg"
            data-index="1"
          />
          <img
            class="gallery-item gallery-item-2"
            src="../img/carousel/아이유&박재범.jpg"
            data-index="2"
          />
          <img
            class="gallery-item gallery-item-3"
            src="../img/carousel/나연.jpg"
            data-index="3"
          />
          <img
            class="gallery-item gallery-item-4"
            src="../img/carousel/키스오브 라이프 앨범.jpg"
            data-index="4"
          />
          <img
            class="gallery-item gallery-item-5"
            src="../img/carousel/샤이니.jpg"
            data-index="5"
          />
        </div>

        <div class="gallery-controls"></div>
      </div>
    </head>
    <main class="main">
      <div class="left">
        <table border="1" width="50%" height="200" cellspacing="5">
          <caption>
            2024년-1월 K-pop 인기순위
          </caption>
          <thead>
            <tr align="center" bgcolor="white">
              <td>순위</td>
              <th>앨범 사진</th>
              <th>곡 이름</th>
              <th>가수</th>
            </tr>
          </thead>

          <tbody>
            <tr align="center" bgcolor="white">
              <th>1</th>
              <td>
                <img
                  src="../img/K-pop/아이유 Love wins all .jpg"
                  width="50px"
                  height="50px"
                />
              </td>
              <td>Love wins all</td>
              <td>아이유</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>2</th>
              <td>
                <img src="../img/K-pop/태연.jpg" width="50px" height="50px" />
              </td>
              <td>TO.X</td>
              <td>태연</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>3</th>
              <td>
                <img
                  src="../img/K-pop/사랑은 늘 도망가.jpg"
                  width="50px"
                  height="50px"
                />
              </td>
              <td>사랑은 늘 도방가</td>
              <td>임영웅</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>4</th>
              <td>
                <img src="../img/K-pop/에스파.jpg" width="50px" height="50px" />
              </td>
              <td>Drama</td>
              <td>에스파</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>5</th>
              <td>
                <img
                  src="../img/K-pop/헤어지자 말해요.jpg"
                  width="50px"
                  height="50px"
                />
              </td>
              <td>헤어지자 말해요</td>
              <td>박재정</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>6</th>
              <td>
                <img src="../img/K-pop/제니.webp" width="50px" height="50px" />
              </td>
              <td>you & me</td>
              <td>제니</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>7</th>
              <td>
                <img
                  src="../img/K-pop/비비지 매니악.jpg"
                  width="50px"
                  height="50px"
                />
              </td>
              <td>Maniac</td>
              <td>비비지</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>8</th>
              <td>
                <img
                  src="../img/K-pop/여자 아이들.jpg"
                  width="50px"
                  height="50px"
                />
              </td>
              <td>wife</td>
              <td>(여자)아이들</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>9</th>
              <td>
                <img src="../img/K-pop/엔믹스.jpg" width="50px" height="50px" />
              </td>
              <td>Dash</td>
              <td>엔믹스</td>
            </tr>
            <tr align="center" bgcolor="white">
              <th>10</th>
              <td>
                <img
                  src="../img/K-pop/후라이의 꿈.webp"
                  width="50px"
                  height="50px"
                />
              </td>
              <td>후라이의 꿈</td>
              <td>이수현</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="right">
        <div class="container">
          <div class="card">
            <div class="back">
              <img class="c-img" src="../img/K-pop/아이유 Love wins all .jpg" />
              <h2>Love wins all (아이유)</h2>
            </div>
            <div class="front">
              <div class="text-ctr">
                <h2>자세히 보기</h2>
                <p>
                  사랑하기를 방해하는 세상에서 끝까지 사랑하려 애쓰는 이들의
                  이야기를 담았다.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer>
        <div class=""></div>
    </footer>
  </body>
</html>
<script>
  const galleryContainer = document.querySelector(".gallery-container");
  const galleryControlsContainer = document.querySelector(".gallery-controls");
  const galleryControls = ["previous", "next"];
  const galleryItems = document.querySelectorAll(".gallery-item");

  class Carousel {
    constructor(container, items, controls) {
      this.carouselContainer = container;
      this.carouselControls = controls;
      this.carouselArray = [...items];
    }
    updateGallery() {
      this.carouselArray.forEach((el) => {
        el.classList.remove("gallery-item-1");
        el.classList.remove("gallery-item-2");
        el.classList.remove("gallery-item-3");
        el.classList.remove("gallery-item-4");
        el.classList.remove("gallery-item-5");
      });

      this.carouselArray.slice(0, 5).forEach((el, i) => {
        el.classList.add(`gallery-item-${i + 1}`);
      });
    }
    setCurrentState(direction) {
      if (direction.className == "gallery-controls-previous") {
        this.carouselArray.unshift(this.carouselArray.pop());
      } else {
        this.carouselArray.push(this.carouselArray.shift());
      }
      this.updateGallery();
    }
    setControls() {
      this.carouselControls.forEach((control) => {
        galleryControlsContainer.appendChild(
          document.createElement("button")
        ).className = `gallery-controls-${control}`;
        document.querySelector(`.gallery-controls-${control}`).innerText =
          control;
      });
    }
    useControls() {
      const triggers = [...galleryControlsContainer.childNodes];
      triggers.forEach((control) => {
        control.addEventListener("click", (e) => {
          e.preventDefault();
          this.setCurrentState(control);
        });
      });
    }
  }
  const exampleCarousel = new Carousel(
    galleryContainer,
    galleryItems,
    galleryControls
  );
  exampleCarousel.setControls();
  exampleCarousel.useControls();
</script>
